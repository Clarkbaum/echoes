'use strict';

var express = require('express');
var router = express.Router();
var path = require('path');
var util = require('../utilities.js');
var knex = require('../../db/db.js');

router.get('/', function (req, res) {
  // if the user has a session
<<<<<<< HEAD
  if (req.cookies.signedIn && req.cookies.username) {
=======
  console.log('req.session', req.session);
  if (req.session) {
>>>>>>> Rebase commit
    // serve the dashboard
    res.sendFile(path.join(__dirname, '/../../client/dashboard.html'));
    // if the user doesn't have a session
  } else {
    // serve the landing page
    res.sendFile(path.join(__dirname, '/../../client/landing.html'));
  }
});

module.exports = router;
<<<<<<< HEAD
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlcnZlci9yb3V0ZXMvYXBwUm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwicGF0aCIsInV0aWwiLCJrbmV4IiwiZ2V0IiwicmVxIiwicmVzIiwiY29va2llcyIsInNpZ25lZEluIiwidXNlcm5hbWUiLCJzZW5kRmlsZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFVBQVVDLFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUMsU0FBU0YsUUFBUUcsTUFBUixFQUFiO0FBQ0EsSUFBSUMsT0FBT0gsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJSSxPQUFPSixRQUFRLGlCQUFSLENBQVg7QUFDQSxJQUFJSyxPQUFPTCxRQUFRLGdCQUFSLENBQVg7O0FBRUFDLE9BQU9LLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLFVBQVVDLEdBQVYsRUFBZUMsR0FBZixFQUFvQjtBQUNsQztBQUNBLE1BQUlELElBQUlFLE9BQUosQ0FBWUMsUUFBWixJQUF3QkgsSUFBSUUsT0FBSixDQUFZRSxRQUF4QyxFQUFrRDtBQUNoRDtBQUNBSCxRQUFJSSxRQUFKLENBQWFULEtBQUtVLElBQUwsQ0FBVUMsU0FBVixFQUFxQiw4QkFBckIsQ0FBYjtBQUNBO0FBQ0QsR0FKRCxNQUlPO0FBQ0w7QUFDQU4sUUFBSUksUUFBSixDQUFhVCxLQUFLVSxJQUFMLENBQVVDLFNBQVYsRUFBcUIsNEJBQXJCLENBQWI7QUFDRDtBQUNGLENBVkQ7O0FBWUFDLE9BQU9DLE9BQVAsR0FBaUJmLE1BQWpCIiwiZmlsZSI6ImFwcFJvdXRlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi4vdXRpbGl0aWVzLmpzJyk7XG52YXIga25leCA9IHJlcXVpcmUoJy4uLy4uL2RiL2RiLmpzJyk7XG5cbnJvdXRlci5nZXQoJy8nLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgLy8gaWYgdGhlIHVzZXIgaGFzIGEgc2Vzc2lvblxuICBpZiAocmVxLmNvb2tpZXMuc2lnbmVkSW4gJiYgcmVxLmNvb2tpZXMudXNlcm5hbWUpIHtcbiAgICAvLyBzZXJ2ZSB0aGUgZGFzaGJvYXJkXG4gICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vLi4vY2xpZW50L2Rhc2hib2FyZC5odG1sJykpO1xuICAgIC8vIGlmIHRoZSB1c2VyIGRvZXNuJ3QgaGF2ZSBhIHNlc3Npb25cbiAgfSBlbHNlIHtcbiAgICAvLyBzZXJ2ZSB0aGUgbGFuZGluZyBwYWdlXG4gICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vLi4vY2xpZW50L2xhbmRpbmcuaHRtbCcpKTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19
=======
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlcnZlci9yb3V0ZXMvYXBwUm91dGVzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwicGF0aCIsInNlc3Npb24iLCJ1dGlsIiwia25leCIsImdldCIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJzZW5kRmlsZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFVBQVVDLFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUMsU0FBU0YsUUFBUUcsTUFBUixFQUFiO0FBQ0EsSUFBSUMsT0FBT0gsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJSSxVQUFVSixRQUFRLGlCQUFSLENBQWQ7QUFDQSxJQUFJSyxPQUFPTCxRQUFRLGlCQUFSLENBQVg7QUFDQSxJQUFJTSxPQUFPTixRQUFRLGdCQUFSLENBQVg7O0FBRUFDLE9BQU9NLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLFVBQVVDLEdBQVYsRUFBZUMsR0FBZixFQUFvQjtBQUNsQztBQUNBQyxVQUFRQyxHQUFSLENBQVksYUFBWixFQUEyQkgsSUFBSUosT0FBL0I7QUFDQSxNQUFJSSxJQUFJSixPQUFSLEVBQWlCO0FBQ2Y7QUFDQUssUUFBSUcsUUFBSixDQUFhVCxLQUFLVSxJQUFMLENBQVVDLFNBQVYsRUFBcUIsOEJBQXJCLENBQWI7QUFDQTtBQUNELEdBSkQsTUFJTztBQUNMO0FBQ0FMLFFBQUlHLFFBQUosQ0FBYVQsS0FBS1UsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLDRCQUFyQixDQUFiO0FBQ0Q7QUFDRixDQVhEOztBQWFBQyxPQUFPQyxPQUFQLEdBQWlCZixNQUFqQiIsImZpbGUiOiJhcHBSb3V0ZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgc2Vzc2lvbiA9IHJlcXVpcmUoJ2V4cHJlc3Mtc2Vzc2lvbicpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlsaXRpZXMuanMnKTtcbnZhciBrbmV4ID0gcmVxdWlyZSgnLi4vLi4vZGIvZGIuanMnKTtcblxucm91dGVyLmdldCgnLycsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAvLyBpZiB0aGUgdXNlciBoYXMgYSBzZXNzaW9uXG4gIGNvbnNvbGUubG9nKCdyZXEuc2Vzc2lvbicsIHJlcS5zZXNzaW9uKTtcbiAgaWYgKHJlcS5zZXNzaW9uKSB7XG4gICAgLy8gc2VydmUgdGhlIGRhc2hib2FyZFxuICAgIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uLy4uL2NsaWVudC9kYXNoYm9hcmQuaHRtbCcpKTtcbiAgICAvLyBpZiB0aGUgdXNlciBkb2Vzbid0IGhhdmUgYSBzZXNzaW9uXG4gIH0gZWxzZSB7XG4gICAgLy8gc2VydmUgdGhlIGxhbmRpbmcgcGFnZVxuICAgIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uLy4uL2NsaWVudC9sYW5kaW5nLmh0bWwnKSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==
>>>>>>> Rebase commit
